<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<h:form>
		<p:menubar>
			<p:submenu label="Arquivo">
				<p:menuitem value="Venda" outcome="/pages/venda.xhtml" />
				<p:menuitem value="Sair" />
			</p:submenu>

			<p:submenu label="Cadastro">
				<p:menuitem value="Fabricantes" outcome="/pages/fabricante.xhtml" />
				<p:menuitem value="Produtos" outcome="/pages/produto.xhtml" />
				<p:menuitem value="Usuários" outcome="/pages/usuario.xhtml" />
			</p:submenu>

			<p:submenu label="Ajuda">
				<p:menuitem value="Sobre" outcome="/pages/sobre.xhtml" />
			</p:submenu>
			
			<p:menuitem icon="ui-icon-locked" value="Login"
				onclick="PF('dialogLogin').show();" />

			<f:facet name="options">
				<p:inputText style="margin-right:10px" placeholder="Buscar" />
				<p:commandButton type="button" value="Logout"
					icon="ui-icon-unlocked" />
			</f:facet>
		</p:menubar>
	</h:form>
	
	<p:dialog widgetVar="dialogLogin" closable="false" draggable="false"
			resizable="false" modal="true" appendTo="@(body)"
			header="Usuário - Login">
			<h:form id="formLogin">
				<h:panelGrid columns="2" id="panelLoginUsuario">
					<p:outputLabel value="Usuário:" />
					<h:inputText value="#{MBUsuario.usuarioLogado.nome}" required="true"
						requiredMessage="O login do usuário é obrigatório..." />

					<p:outputLabel value="Senha:" />
					<h:inputSecret value="#{MBUsuario.usuarioLogado.senha}" required="true"
						requiredMessage="A senha do usuário é obrigatória..." />
				</h:panelGrid>

				<h:panelGrid columns="2">
					<p:commandButton value="Entrar"
						actionListener="#{MBUsuario.autenticar}"
						update=":mensagemGlobal :formLogin:panelLoginUsuario" />

					<p:commandButton value="Cancelar"
						onclick="PF('dialogLogin').hide();" />
				</h:panelGrid>
			</h:form>
		</p:dialog>

</ui:composition>